<div class="container mt-4 d-flex justify-content-center">
  <div class="card shadow-lg" style="width: 80%;">
    <div class="card-header bg-primary text-white">
      <h5 class="mb-0">{{encabezado}} juego</h5>
    </div>

    <div class="card-body">
      <form [formGroup]="gameForm" (ngSubmit)="creatEditGame()">

        <div class="row" style="margin-bottom: 0.5em">
          <div class="col-sm-12">
            <label for="name" class="form-label">Nombre:</label> 

            <!-- TOOLTIP -->
            <i style=" 
              color: #6d86ab; 
              font-size: 1.4rem; 
              margin-right: 2em;" 
              class="fa fa-exclamation-circle float-end"
              tooltipPosition="right"
              [pTooltip]="tooltipNameContent" >
            </i>
            <ng-template #tooltipNameContent>
              <div class="flex align-items-center">
                  <span> {{nameTooltip}} </span>
              </div>
            </ng-template>

            <input type="text" id="name" class="form-control" formControlName="name">
            <div class="text-danger" 
              *ngIf="(gameForm.get('name')?.invalid && gameForm.get('name')?.touched) || (gameForm.get('name')?.invalid && showErrorLabels)">
              El campo 'Nombre', es requerido y debe tener al menos 3 caracteres.
            </div>
          </div>
        </div>
    
        <div class="row" style="margin-bottom: 0.5em">
          <div class="col-sm-12">
            <label for="players" class="form-label">Número de jugadores:</label>
            
            <!-- TOOLTIP -->
            <i style=" 
              color: #6d86ab; 
              font-size: 1.4rem; 
              margin-right: 2em;" 
              class="fa fa-exclamation-circle float-end"
              tooltipPosition="right"
              [pTooltip]="tooltipPlayerNumberContent" >
            </i>
            <ng-template #tooltipPlayerNumberContent>
              <div class="flex align-items-center">
                  <span> {{playerNumberTooltip}} </span>
              </div>
            </ng-template>

            <input type="number" id="players" class="form-control" formControlName="players">
            <div class="text-danger" 
              *ngIf="(gameForm.get('players')?.invalid && gameForm.get('players')?.touched) || (gameForm.get('players')?.invalid && showErrorLabels)">
              El campo 'Número de jugadores', es requerido y debe ser al menos 1 jugador.
            </div>
          </div>
        </div>
    
        <div class="row" style="margin-bottom: 0.5em">
          <div class="col-sm-12">
            <label for="description" class="form-label">Descripción:</label>
            
            <!-- TOOLTIP -->
            <i style=" 
              color: #6d86ab; 
              font-size: 1.4rem; 
              margin-right: 2em;" 
              class="fa fa-exclamation-circle float-end"
              tooltipPosition="right"
              [pTooltip]="tooltipDescriptionContent" >
            </i>
            <ng-template #tooltipDescriptionContent>
              <div class="flex align-items-center">
                  <span> {{descriptionTooltip}} </span>
              </div>
            </ng-template>

            <textarea 
              id="description" 
              class="form-control" 
              formControlName="description">
            </textarea>
            <div class="text-danger" 
              *ngIf="(gameForm.get('description')?.invalid && gameForm.get('description')?.touched)
                  || (gameForm.get('description')?.invalid && showErrorLabels)">
              El campo 'Descripción', es requerido.
            </div>
          </div>
        </div>
    
        
        <div class="row" style="margin-bottom: 0.5em">
          <div class="col-sm-12">
            <label for="rulesheet" class="form-label">Reglas del juego:</label>
            
            <!-- TOOLTIP -->
            <i style=" 
              color: #6d86ab; 
              font-size: 1.4rem; 
              margin-right: 2em;" 
              class="fa fa-exclamation-circle float-end"
                tooltipPosition="right"
                [pTooltip]="tooltipGameRulesContent" >
            </i>
            <ng-template #tooltipGameRulesContent>
              <div class="flex align-items-center">
                  <span> {{gamerulesTooltip}} </span>
              </div>
            </ng-template>

            <p-fileUpload 
              name="true"
              [showUploadButton]="false"
              [showCancelButton]="true"
              chooseLabel="Añadir"
              cancelLabel="Cancelar"
              (onSelect)="onSelectFile($event)"
              (onRemove)="onRemoveOtherFiles($event)"
              [multiple]="false" 
              accept=".txt,.hrf,.json" 
              maxFileSize="1000000"
              invalidFileTypeMessageSummary="{0}:Tipo de archivo no valido."
              invalidFileTypeMessageDetail="Tipos de archivos validos: {0}.">
  
              <ng-template pTemplate="toolbar">
                <div class="col-lg-12 overflow-hidden mt-1">
                  <div
                      class="container container-company w-40 float-left overflow-hidden">
                      <div style="font-size: 14px">
                        <span style="font-weight: bold;">Formatos permitidos:</span> .txt,.hrf,.json
                      </div>
                  </div>
                </div>
              </ng-template>
              
            </p-fileUpload>
          </div>
        </div>

        <div class="row" style="margin-bottom: 1em">
          <div class="col-sm-12">
            <textarea 
              id="rulesheet" 
              class="form-control" 
              formControlName="rulesheet"
              rows="8">
            </textarea>
          </div>

          <div class="text-danger" 
            *ngIf="(gameForm.get('rulesheet')?.invalid && gameForm.get('rulesheet')?.touched)
                || (gameForm.get('rulesheet')?.invalid && showErrorLabels)">
            El campo 'Reglas del juego', es requerido.
          </div>
        </div>
    
        <div class="d-flex justify-content-end">
          <button type="button" class="btn btn-secondary me-2" routerLink="/gamesList">Cancelar</button>
          <button type="submit" class="btn btn-success" >Guardar</button>
        </div>
      </form>
    </div>
  
  </div>
</div>
